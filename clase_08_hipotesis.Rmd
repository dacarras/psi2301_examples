---
title: "Preguntas foro 20210419"
output: github_document
---

# Pregunta 20210419



# Respuesta


>Nota: la **alternativa 1**, debiera ser la forma más intuitiva de seguir; la **alternativa 3** tiene la ventaja de ser exportable a excel.

## Tabla de estadísticos

```{r, echo=TRUE, eval = TRUE}
#------------------------------------------------------------------------------
# statistics in tables
#------------------------------------------------------------------------------


data_corr <- read.csv(url('https://github.com/dacarras/psi2301_examples/tree/master/data/corr_chl_16.csv'))



# -----------------------------------------------
# variable table
# -----------------------------------------------

data_corr %>%
r4sda::variables_table() %>%
dplyr::select(variable, type, labels) %>%
knitr::kable(., digits = 2)


# -----------------------------------------------
# standard deviation of the population estimate
# -----------------------------------------------

sd_pop <- function(x){
n <- length(na.omit(x))
sqrt((n-1)/n) * sd(x, na.rm = TRUE)
}

# -----------------------------------------------
# descriptives
# -----------------------------------------------

table_null <- data_corr %>%
  summarize(
    mean = mean(corr, na.rm = TRUE),
    sd = sd(corr, na.rm = TRUE),
    n = n(),
    se = sd/sqrt(n),
    ll = mean - 1.96*se,
    ul = mean + 1.96*se
  )

table_groups <- data_corr %>%
  group_by(sof) %>%
  summarize(
    mean = mean(corr, na.rm = TRUE),
    sd = sd(corr, na.rm = TRUE),
    n = n(),
    se = sd/sqrt(n),
    ll = mean - 1.96*se,
    ul = mean + 1.96*se
  )

table_desc <- dplyr::bind_rows(
              table_null, 
              table_groups
              ) %>%
              mutate(groups = c(
                'total',
                'menor',
                'mayor'
                ))

# -----------------------------------------------
# display table
# -----------------------------------------------

table_desc %>%
dplyr::select(groups, mean, sd, n, se, ll, ul) %>%
knitr::kable(., digits = 2)

```


